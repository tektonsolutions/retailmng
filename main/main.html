<head>
  <title>Retail Management</title>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <!-- Compiled and minified CSS -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.1/css/materialize.min.css" rel="stylesheet">

  <!-- Compiled and minified JavaScript -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.1/js/materialize.min.js"></script>
</head>

<template name="main">
  {{#if currentUser}}
    {{> navbar}}
    <main>
      {{> sidebar}}
      {{> yield}}
    </main>
    {{else}}
    {{> yield}}
  {{/if}}
</template>

<!--scripts-->
<template name="ui_script">
  <script type="text/javascript">
    $(document).ready(function () {
      var currentDate = new Date();
      var $input = $(".datepicker").pickadate();
      var picker = $input.pickadate("picker");
      picker.set("select", new Date());

      if(picker){
        $("select").material_select();
      }

      $(".modal-trigger").leanModal();
      $(".button-collapse").sideNav();
      $("ul.tabs").tabs();
    });

    function onSelectChanged(){
      $(".selectErrorContainer").text("");
    }
  </script>
</template>

<template name="sidebar">
  <ul id="slide-out" class="side-nav no-padding">
    <li>
      <a href="{{pathFor route='sales'}}">Sales</a>
    </li>
    <li>
      <a href="{{pathFor route='delivery-registry'}}">Delivery Register</a>
    </li>
    <br>
    <ul class="collapsible collapsible-accordion">
      <li>
        <a class="collapsible-header waves-effect waves-teal">Inventory</a>
        <div class="collapsible-body">
          <ul>
            <li><a href="{{pathFor route='invetory'}}">Inventory Register</a></li>
          </ul>
          <ul>
            <li><a href="{{pathFor route='invetory-count'}}">Physical Inventory Count</a></li>
          </ul>
        </div>
      </li>
    </ul>
    <li>
      <a href="{{pathFor route='employees'}}">Employees</a>
    </li>
    <li>
      <a href="{{pathFor route='suppliers'}}">Suppliers</a>
    </li>
    <li>
      <a href="{{pathFor route='presets'}}">Presets</a>
    </li>
    <li>
      <a href="{{pathFor route='units'}}">Units</a>
    </li>
  </ul>

  {{ui_script}}
</template>

<template name="navbar">
  <nav>
    <div class="nav-wrapper teal">
      <div class="row">
        <div class="col s2 m1 l1 middle-align">
          <i class="mdi-navigation-menu button-collapse" data-activates="slide-out"></i>
        </div>
        <div class="col s10 m11 l11 right no-padding">
          <form>
            <div class="input-field">
              <input class="right-align right-padding col s12" id="search" type="search" required>
              <label for="search"><i class="material-icons">search</i></label>
              <i class="material-icons">close</i>
            </div>
          </form>
        </div>
      </div>
    </div>
  </nav>
</template>
