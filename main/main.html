<head>
  <title>Retail Management</title>
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <!-- Compiled and minified CSS -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.1/css/materialize.min.css" rel="stylesheet">

  <!-- Compiled and minified JavaScript -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.1/js/materialize.min.js"></script>
</head>

<template name="main">
  {{#if currentUser}}
    {{> navbar}}
    <main>
      {{> sidebar}}
      {{> yield}}
    </main>
    {{else}}
    {{> yield}}
  {{/if}}
</template>

<!--scripts-->
<template name="ui_script">
  <script type="text/javascript">
    $(document).ready(function () {
      var currentDate = new Date();
      var $input = $(".datepicker").pickadate();
      var picker = $input.pickadate("picker");
      picker.set("select", new Date());

      if(picker){
        $("select").material_select();
      }

      $(".modal-trigger").leanModal();
      $(".button-collapse").sideNav();
      $("ul.tabs").tabs();
      $('.collapsible').collapsible({accordion : false});
      $(".dropdown-button").dropdown();
    });

    function onSelectChanged(){
      $(".selectErrorContainer").text("");
    }
  </script>
</template>

<template name="sidebar">
  <ul id="slide-out" class="side-nav no-padding transparent">
    <li class="center white no-padding">
      <a class="waves-effect waves-teal">
        <i class="mdi-navigation-menu" href="#!"></i>
      </a>
    </li>
    <li class="no-padding">
      <a class="waves-effect waves-teal white-text" href="{{pathFor route='sales'}}">Sales</a>
    </li>
    <div class="row center no-margin">
      <label class="white-text"><b>INVENTORY</b></label>
    </div>
    <li class="no-padding">
      <a class="waves-effect waves-teal white-text" href="{{pathFor route='delivery-registry'}}">Delivery Register</a>
    </li>
    <li class="no-padding">
      <a class="waves-effect waves-teal white-text" href="{{pathFor route='inventory'}}">Inventory</a>
    </li>
    <li class="no-padding">
      <a class="waves-effect waves-teal white-text" href="{{pathFor route='inventory-count'}}">Physical Inventory Count</a>
    </li>
    <div class="row center no-margin">
      <label class="white-text"><b>RESOURCE</b></label>
    </div>
    <li class="no-padding">
      <a class="waves-effect waves-teal white-text" href="{{pathFor route='employees'}}">Employees</a>
    </li>
    <li class="no-padding">
      <a class="waves-effect waves-teal white-text" href="{{pathFor route='suppliers'}}">Suppliers</a>
    </li>
    <li class="no-padding">
      <a class="waves-effect waves-teal white-text" href="{{pathFor route='presets'}}">Presets</a>
    </li>
    <li class="no-padding">
      <a class="waves-effect waves-teal white-text" href="{{pathFor route='units'}}">Units</a>
    </li>
    <li class="no-padding">
      <a class="waves-effect waves-teal white-text" href="{{pathFor route='delivery-areas'}}">Delivery Areas</a>
    </li>
  </ul>
  {{ui_script}}
</template>

<template name="navbar">
  <nav>
    <div class="nav-wrapper teal">
      <div class="row">
        <div class="col s2 m1 l1 center">
          <a href="#">
            <i class="mdi-navigation-menu button-collapse" data-activates="slide-out"></i>
          </a>
        </div>
        <div class="col s10 m11 l11 right no-padding">
          <form>
            <div class="input-field">
              <input class="right-align right-padding col s12" id="search" type="search" required>
              <label for="search"><i class="material-icons">search</i></label>
              <i class="material-icons">close</i>
            </div>
          </form>
        </div>
      </div>
    </div>
  </nav>
  {{ui_script}}
</template>
